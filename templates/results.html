{% extends 'corona.html' %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h4 style="font-family: 'Grandstander', cursive;" class="card-title">Graphs</h4>
                {% if countries_name is not None %}
                  <h3 style="font-family: 'Grandstander', cursive;" class="card-title">{{ countries_name }} Statistics</h3>
                {% endif %}
            </div>
            <div class="card-body">
                <canvas id="pie-chart"></canvas>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
{% block script %}
<script>

    var config = {
      type: 'doughnut',
      data: {
        datasets: [{
          data: {{ data|safe }},
          backgroundColor: [
            '#557571', '#d2e603', '#ff4646'
          ],
        }],
        labels: {{ categories|safe }}
      },
      options: {
          responsive: true
      }
    };

    window.onload = function() {
      var ctx = document.getElementById('pie-chart').getContext('2d');
      window.myPie = new Chart(ctx, config);
    };

  </script>

{% endblock script %}
